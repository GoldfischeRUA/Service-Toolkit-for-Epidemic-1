"use strict";

exports.__esModule = true;
exports.default = void 0;

var _cryptoJs = _interopRequireDefault(require("crypto-js"));

var _sha = _interopRequireDefault(require("crypto-js/sha1"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* global FileReader */

/**
 * sha1 hash a html file in browser.
 */
function sha1sum(file) {
  return new Promise(function (resolve) {
    var reader = new FileReader();

    reader.onload = function () {
      var wordArray = _cryptoJs.default.lib.WordArray.create(this.result);

      resolve((0, _sha.default)(wordArray).toString());
    };

    reader.readAsArrayBuffer(file);
  });
}

var _default = sha1sum;
exports.default = _default;