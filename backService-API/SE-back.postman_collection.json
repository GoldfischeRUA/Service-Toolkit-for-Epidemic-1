{
	"info": {
		"_postman_id": "18346695-8854-4904-954f-77e565e8ce2a",
		"name": "SE-back",
		"description": "This is test collection for ZJU-software engineer course. Using postman to test our APIs of servers",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Map",
			"item": [
				{
					"name": "globalMap",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3a3d364b-e05e-4fe7-8058-5f41d2fbd6b7",
								"exec": [
									"// test if code==200\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"// test if illustrate content-type\r",
									"pm.test(\"Content-Type is present\", function () {\r",
									"    pm.response.to.have.header(\"Content-Type\");\r",
									"});\r",
									"\r",
									"// test if msg is 'success' given by server\r",
									"pm.test(\"Msg is success\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.msg).to.eql('success');\r",
									"});\r",
									"\r",
									"// test if having enough provinces' data\r",
									"pm.test(\"The number of countries is 215\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.newslist.length).to.eql(215);\r",
									"});\r",
									"\r",
									"var schema = {\r",
									"    \"type\": \"array\",\r",
									"    \"items\": {\r",
									"        \"type\":\"object\",\r",
									"        \"properties\": {\r",
									"            \"modifyTime\": {\"type\":\"integer\"},\r",
									"            \"continents\": {\"type\":\"string\"},\r",
									"            \"provinceName\": {\"type\":\"string\"},\r",
									"            \"currentConfirmedCount\": {\"type\":\"integer\"},\r",
									"            \"confirmedCount\": {\"type\":\"integer\"},\r",
									"            \"confirmedCountRank\": {\"type\":\"integer\"},\r",
									"            \"curedCount\": {\"type\":\"integer\"},\r",
									"            \"deadCount\": {\"type\":\"integer\"},\r",
									"            \"deadCountRank\": {\"type\":\"integer\"},\r",
									"            \"deadRate\": {\"type\":\"string\"},\r",
									"            \"deadRateRank\": {\"type\":\"integer\"},\r",
									"            \"locationId\": {\"type\":\"integer\"},\r",
									"            \"countryShortCode\": {\"type\":\"string\"}\r",
									"        },\r",
									"        \"additionalProperties\":true,\r",
									"        \"required\":[\"continents\",\"provinceName\",\"currentConfirmedCount\",\"confirmedCount\",\"curedCount\",\"deadCount\",\"deadRate\",\"locationId\",\"countryShortCode\"]\r",
									"    }\r",
									"};\r",
									"\r",
									"\r",
									"pm.test('Items of every countries are complete and legal', function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(tv4.validate(jsonData.newslist, schema)).to.be.true;\r",
									"    console.log(tv4.validate(jsonData.newslist, schema));\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://119.3.185.241:8080/getMapData?area=global",
							"protocol": "http",
							"host": [
								"119",
								"3",
								"185",
								"241"
							],
							"port": "8080",
							"path": [
								"getMapData"
							],
							"query": [
								{
									"key": "area",
									"value": "global"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "inlandMap",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2f476741-7ec5-43f5-845b-e4ec6b61fb84",
								"exec": [
									"// test if code==200\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"// test if illustrate content-type\r",
									"pm.test(\"Content-Type is present\", function () {\r",
									"    pm.response.to.have.header(\"Content-Type\");\r",
									"});\r",
									"\r",
									"// test if msg is 'success' given by server\r",
									"pm.test(\"Msg is success\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.msg).to.eql('success');\r",
									"});\r",
									"\r",
									"// test if having enough provinces' data\r",
									"pm.test(\"The number of province is 34\", function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(jsonData.newslist.length).to.eql(34);\r",
									"});\r",
									"\r",
									"var schema = {\r",
									"    \"type\": \"array\",\r",
									"    \"items\": {\r",
									"        \"type\":\"object\",\r",
									"        \"properties\": {\r",
									"            \"provinceName\": { \"type\": \"string\" },\r",
									"            \"provinceShortName\": { \"type\": \"string\" },\r",
									"            \"currentConfirmedCount\": { \"type\": \"integer\" },\r",
									"            \"confirmedCount\": { \"type\": \"integer\" },\r",
									"            \"suspectedCount\": { \"type\": \"integer\" },\r",
									"            \"curedCount\": { \"type\": \"integer\" },\r",
									"            \"deadCount\": { \"type\": \"integer\" },\r",
									"            \"comment\": { \"type\": \"string\" },\r",
									"            \"locationId\": { \"type\": \"integer\" },\r",
									"            \"cities\": {\r",
									"                \"type\": \"array\",\r",
									"                \"items\": {\r",
									"                    \"type\": [\"object\", \"null\"]\r",
									"                }\r",
									"            }\r",
									"        },\r",
									"        \"additionalProperties\":true,\r",
									"        \"required\":[\"provinceName\",\"provinceShortName\",\"currentConfirmedCount\",\"confirmedCount\",\"suspectedCount\",\"curedCount\",\"deadCount\",\"comment\",\"locationId\",\"cities\"]\r",
									"    }\r",
									"};\r",
									"\r",
									"\r",
									"pm.test('Items of every provinces are complete and legal', function () {\r",
									"    var jsonData = pm.response.json();\r",
									"    pm.expect(tv4.validate(jsonData.newslist, schema)).to.be.true;\r",
									"    console.log(tv4.validate(jsonData.newslist, schema));\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://119.3.185.241:8080/getMapData?area=inland",
							"protocol": "http",
							"host": [
								"119",
								"3",
								"185",
								"241"
							],
							"port": "8080",
							"path": [
								"getMapData"
							],
							"query": [
								{
									"key": "area",
									"value": "inland"
								}
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "News",
			"item": [],
			"protocolProfileBehavior": {}
		}
	],
	"protocolProfileBehavior": {}
}